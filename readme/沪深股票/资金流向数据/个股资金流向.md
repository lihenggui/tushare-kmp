# 个股资金流向

## 接口：moneyflow

### 描述
获取沪深 A 股票资金流向数据，分析大单小单成交情况，用于判别资金动向，数据开始于 2010 年。

### 限量
单次最大提取 6000 行记录，总量不限制。

### 积分
- 用户需要至少 2000 积分才可以调取。
- 基础积分有流量控制，积分越多权限越大，请自行提高积分，具体请参阅积分获取办法。

---

## 输入参数

| 名称        | 类型 | 必选 | 描述 |
|------------|------|------|------|
| ts_code    | str  | N    | 股票代码（股票和时间参数至少输入一个） |
| trade_date | str  | N    | 交易日期 |
| start_date | str  | N    | 开始日期 |
| end_date   | str  | N    | 结束日期 |

---

## 输出参数

| 名称             | 类型  | 默认显示 | 描述 |
|----------------|------|--------|------|
| ts_code       | str  | Y      | TS 代码 |
| trade_date    | str  | Y      | 交易日期 |
| buy_sm_vol    | int  | Y      | 小单买入量（手） |
| buy_sm_amount | float | Y      | 小单买入金额（万元） |
| sell_sm_vol   | int  | Y      | 小单卖出量（手） |
| sell_sm_amount | float | Y      | 小单卖出金额（万元） |
| buy_md_vol    | int  | Y      | 中单买入量（手） |
| buy_md_amount | float | Y      | 中单买入金额（万元） |
| sell_md_vol   | int  | Y      | 中单卖出量（手） |
| sell_md_amount | float | Y      | 中单卖出金额（万元） |
| buy_lg_vol    | int  | Y      | 大单买入量（手） |
| buy_lg_amount | float | Y      | 大单买入金额（万元） |
| sell_lg_vol   | int  | Y      | 大单卖出量（手） |
| sell_lg_amount | float | Y      | 大单卖出金额（万元） |
| buy_elg_vol   | int  | Y      | 特大单买入量（手） |
| buy_elg_amount | float | Y      | 特大单买入金额（万元） |
| sell_elg_vol  | int  | Y      | 特大单卖出量（手） |
| sell_elg_amount | float | Y      | 特大单卖出金额（万元） |
| net_mf_vol    | int  | Y      | 净流入量（手） |
| net_mf_amount | float | Y      | 净流入额（万元） |

### 各类别统计规则如下：
- **小单**：5 万以下  
- **中单**：5 万～20 万  
- **大单**：20 万～100 万  
- **特大单**：成交额 >= 100 万  
- 数据基于主动买卖单统计。

---

## 接口示例

```python
pro = ts.pro_api('your token')

# 获取单日全部股票数据
df = pro.moneyflow(trade_date='20190315')

# 获取单个股票数据
df = pro.moneyflow(ts_code='002149.SZ', start_date='20190115', end_date='20190315')
```

---

## 数据示例

| ts_code   | trade_date | buy_sm_vol | buy_sm_amount | sell_sm_vol | sell_sm_amount | buy_md_vol | buy_md_amount | sell_md_vol | sell_md_amount |
|-----------|-----------|------------|---------------|-------------|---------------|------------|---------------|-------------|---------------|
| 000779.SZ | 20190315  | 11377      | 1150.17       | 11100       | 1122.97       | 13012      | 1316.72       | 14812       | 1498.90       |
| 000933.SZ | 20190315  | 94220      | 4803.22       | 105924      | 5411.72       | 135976     | 6935.40       | 154023      | 7863.00       |
| 002270.SZ | 20190315  | 43979      | 2330.96       | 45893       | 2435.98       | 57679      | 3059.15       | 47279       | 2507.55       |
| 002319.SZ | 20190315  | 21502      | 2952.88       | 17155       | 2358.68       | 27245      | 3742.52       | 26708       | 3670.05       |
| 002604.SZ | 20190315  | 31944      | 607.35        | 58667       | 1114.40       | 69897      | 1327.41       | 41108       | 781.19        |
| ...       | ...       | ...        | ...           | ...         | ...           | ...        | ...           | ...         | ...           |
