# 融资融券交易明细

## 接口：margin_detail

### 描述
获取沪深两市每日融资融券明细。

### 限量
单次请求最大返回 4000 行数据，可根据日期循环。

### 权限
2000 积分可获得本接口权限，积分越高权限越大，具体参考权限说明。

---

## 输入参数

| 名称        | 类型 | 必选 | 描述 |
|------------|------|------|------|
| trade_date | str  | N    | 交易日期（格式：YYYYMMDD，下同） |
| ts_code    | str  | N    | TS 代码 |
| start_date | str  | N    | 开始日期 |
| end_date   | str  | N    | 结束日期 |

---

## 输出参数

| 名称        | 类型  | 描述 |
|------------|------|------|
| trade_date | str  | 交易日期 |
| ts_code    | str  | TS 股票代码 |
| name       | str  | 股票名称（20190910 后有数据） |
| rzye       | float | 融资余额(元) |
| rqye       | float | 融券余额(元) |
| rzmre      | float | 融资买入额(元) |
| rqyl       | float | 融券余量（股） |
| rzche      | float | 融资偿还额(元) |
| rqchl      | float | 融券偿还量(股) |
| rqmcl      | float | 融券卖出量(股, 份, 手) |
| rzrqye     | float | 融资融券余额(元) |

---

## 接口使用

```python
pro = ts.pro_api()

df = pro.margin_detail(trade_date='20180802')
```

或者

```python
df = pro.query('margin_detail', trade_date='20180802')
```

---

## 数据样例

| trade_date | ts_code  | rzye        | rqye       | rzmre       | rqyl     | rzche      | rqchl   | rqmcl   | rzrqye      |
|------------|---------|-------------|------------|-------------|---------|-------------|---------|---------|-------------|
| 20180802   | 000001.SZ | 4.430811e+09 | 8238210.0  | 78800436.0  | 921500.0 | 147005397.0 | 544400.0 | 260000.0 | 4.439049e+09 |
| 20180802   | 000002.SZ | 2.613071e+09 | 30772020.0 | 186176338.0 | 1439290.0 | 133408689.0 | 437600.0 | 516700.0 | 2.643843e+09 |
| 20180802   | 000006.SZ | 8.214685e+08 | 1008250.0  | 15199626.0  | 185000.0 | 16084617.0  | 90000.0  | 100.0    | 8.224767e+08 |
| 20180802   | 000009.SZ | 1.318175e+09 | 74451.0    | 8010979.0   | 15674.0  | 11337406.0  | 80000.0  | 2000.0   | 1.318249e+09 |
| 20180802   | 000012.SZ | 6.422077e+08 | 190201.0   | 7831261.0   | 38347.0  | 8260616.0   | 0.0      | 26700.0  | 6.423979e+08 |

---

## 说明

本报表基于证券公司报送的融资融券余额数据汇总生成，其中：
- **本日融资余额(元) = 前日融资余额 + 本日融资买入 - 本日融资偿还额**
- **本日融券余量(股) = 前日融券余量 + 本日融券卖出量 - 本日融券买入量 - 本日现券偿还量**
- **本日融券余额(元) = 本日融券余量 × 本日收盘价**
- **本日融资融券余额(元) = 本日融资余额 + 本日融券余额**

### 单位说明
- **股**（标的证券为股票）
- **份**（标的证券为基金）
- **手**（标的证券为债券）

自 **2014 年 9 月 22 日** 起，“融资融券交易总量”数据包含调出标的证券名单的证券的融资融券余额。
