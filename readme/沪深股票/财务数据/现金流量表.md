# 现金流量表

## 接口名称：`cashflow`

## 接口说明
- 获取 **上市公司现金流量表** 数据。
- **数据起始时间**：支持历史数据查询。
- **单次最大提取 1000 条数据**，可根据日期参数循环获取。
- **积分要求**：
  - **2000 积分** 以上用户可调用。
  - **5000 积分** 以上用户可使用 `cashflow_vip` 接口获取某一季度全部上市公司数据。

---

## **输入参数**

| 名称        | 类型  | 必选 | 描述 |
|------------|------|------|------------------------------|
| ts_code    | str  | Y    | 股票代码 |
| ann_date   | str  | N    | 公告日期（格式：`YYYYMMDD`） |
| f_ann_date | str  | N    | 实际公告日期 |
| start_date | str  | N    | 公告开始日期（格式：`YYYYMMDD`） |
| end_date   | str  | N    | 公告结束日期（格式：`YYYYMMDD`） |
| period     | str  | N    | 报告期（每个季度最后一天的日期，如 `20171231` 表示年报，`20170630` 表示半年报，`20170930` 表示三季报） |
| report_type | str  | N    | 报告类型（见下方 **主要报表类型说明**） |
| comp_type  | str  | N    | 公司类型（`1` - 一般工商业，`2` - 银行，`3` - 保险，`4` - 证券） |
| is_calc    | int  | N    | 是否计算报表 |

---

## **输出参数**

| 名称          | 类型  | 默认显示 | 描述 |
|--------------|------|---------|------------------------------|
| ts_code      | str  | Y       | TS 股票代码 |
| ann_date     | str  | Y       | 公告日期 |
| f_ann_date   | str  | Y       | 实际公告日期 |
| end_date     | str  | Y       | 报告期 |
| comp_type    | str  | Y       | 公司类型（`1` - 一般工商业，`2` - 银行，`3` - 保险，`4` - 证券） |
| report_type  | str  | Y       | 报表类型（见下方 **主要报表类型说明**） |
| net_profit   | float | Y       | 净利润 |
| finan_exp    | float | Y       | 财务费用 |
| c_fr_sale_sg | float | Y       | 销售商品、提供劳务收到的现金 |
| recp_tax_rends | float | Y     | 收到的税费返还 |
| c_inf_fr_operate_a | float | Y | 经营活动现金流入小计 |
| c_paid_goods_s | float | Y     | 购买商品、接受劳务支付的现金 |
| c_paid_to_for_empl | float | Y | 支付给职工以及为职工支付的现金 |
| c_paid_for_taxes | float | Y   | 支付的各项税费 |
| st_cash_out_act | float | Y    | 经营活动现金流出小计 |
| n_cashflow_act | float | Y     | 经营活动产生的现金流量净额 |
| stot_inflows_inv_act | float | Y | 投资活动现金流入小计 |
| stot_out_inv_act | float | Y   | 投资活动现金流出小计 |
| n_cashflow_inv_act | float | Y | 投资活动产生的现金流量净额 |
| stot_cash_in_fnc_act | float | Y | 筹资活动现金流入小计 |
| stot_cashout_fnc_act | float | Y | 筹资活动现金流出小计 |
| n_cash_flows_fnc_act | float | Y | 筹资活动产生的现金流量净额 |
| eff_fx_flu_cash | float | Y    | 汇率变动对现金的影响 |
| n_incr_cash_cash_equ | float | Y | 现金及现金等价物净增加额 |
| c_cash_equ_beg_period | float | Y | 期初现金及现金等价物余额 |
| c_cash_equ_end_period | float | Y | 期末现金及现金等价物余额 |

---

## **接口示例**

### **获取单只股票的现金流量表**
```python
import tushare as ts

# 设置 Tushare Token（请在 Tushare 个人中心获取）
ts.set_token('你的token')

pro = ts.pro_api()

# 获取 600000.SH（浦发银行）在 2018-01-01 至 2018-07-30 期间的现金流量表
df = pro.cashflow(ts_code='600000.SH', start_date='20180101', end_date='20180730')
```

---

### **获取某一季度全部上市公司现金流量表**
```python
# 获取 2018 年报（2018-12-31）的所有上市公司现金流量表（需要 5000 积分）
df = pro.cashflow_vip(period='20181231')
```

---

## **数据样例**

| ts_code  | ann_date | f_ann_date | end_date | comp_type | report_type | net_profit | finan_exp |
|----------|---------|-----------|---------|----------|------------|-----------|-----------|
| 600000.SH | 20180428 | 20180428  | 20180331 | 2        | 1          | NaN       | None      |
| 600000.SH | 20180428 | 20180428  | 20171231 | 2        | 1          | 5.5002e+10 | None      |
| 600000.SH | 20180428 | 20180428  | 20171231 | 2        | 1          | 5.5002e+10 | None      |

---

## **主要报表类型说明**

| 代码 | 类型 | 说明 |
|------|------|------------------------------|
| 1    | 合并报表 | 上市公司最新报表（默认） |
| 2    | 单季合并 | 单一季度的合并报表 |
| 3    | 调整单季合并表 | 调整后的单季合并报表（如果有） |
| 4    | 调整合并报表 | 本年度公布上年同期的财务报表数据，报告期为上年度 |
| 5    | 调整前合并报表 | 数据发生变更，将原数据进行保留，即调整前的原数据 |
| 6    | 母公司报表 | 该公司母公司的财务报表数据 |
| 7    | 母公司单季表 | 母公司的单季度表 |
| 8    | 母公司调整单季表 | 母公司调整后的单季表 |
| 9    | 母公司调整表 | 该公司母公司的本年度公布上年同期的财务报表数据 |
| 10   | 母公司调整前报表 | 母公司调整之前的原始财务报表数据 |
| 11   | 母公司调整前合并报表 | 母公司调整之前合并报表原数据 |
| 12   | 母公司调整前报表 | 母公司报表发生变更前保留的原数据 |
