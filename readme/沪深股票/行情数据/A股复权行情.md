# A股复权行情

## 接口名称：`pro_bar`

## 接口说明
- 复权行情通过 **通用行情接口** 实现，利用 **Tushare Pro** 提供的 **复权因子** 进行动态计算。
- **HTTP 方式无法调取**，仅支持 **Python SDK**。
- 若需要 **静态复权行情**（支持 HTTP），请访问 **股票技术因子接口**。

## Python SDK 版本要求
- **>= 1.2.26**

---

## 复权说明

| 类型   | 算法 | 参数标识 |
|--------|--------------------------------------|---------|
| **不复权** | 无 | `None` 或 空 |
| **前复权** | `当日收盘价 × 当日复权因子 / 最新复权因子` | `qfq` |
| **后复权** | `当日收盘价 × 当日复权因子` | `hfq` |

> **注**：目前支持 **A股日线复权**，**分钟复权** 预计后续支持。

---

## 接口参数

| 名称        | 类型  | 必选 | 描述 |
|------------|------|------|------------------------------|
| ts_code    | str  | Y    | 证券代码（如 `000001.SZ`） |
| start_date | str  | N    | 开始日期（格式：`YYYYMMDD`） |
| end_date   | str  | N    | 结束日期（格式：`YYYYMMDD`） |
| asset      | str  | Y    | 资产类别（`E` 股票，`I` 沪深指数，`C` 数字货币，`FT` 期货，`FD` 基金，`O` 期权），默认 `E` |
| adj        | str  | N    | 复权类型（仅针对股票）：`None` 未复权，`qfq` 前复权，`hfq` 后复权，默认 `None` |
| freq       | str  | Y    | 数据频度（`1MIN` 表示 1 分钟，支持 `1/5/15/30/60` 分钟，`D` 日线，默认 `D`） |
| ma         | list | N    | 均线，支持任意周期的均价和均量，输入任意合理 `int` 数值 |

---

## **接口示例**

### **日线复权**
```python
import tushare as ts

pro = ts.pro_api()

# 获取 000001.SZ 的 **前复权** 日线行情
df = ts.pro_bar(ts_code='000001.SZ', adj='qfq', start_date='20180101', end_date='20181011')

# 获取 000001.SZ 的 **后复权** 日线行情
df = ts.pro_bar(ts_code='000001.SZ', adj='hfq', start_date='20180101', end_date='20181011')
```

---

### **周线复权**
```python
# 获取 000001.SZ 的 **前复权** 周线行情
df = ts.pro_bar(ts_code='000001.SZ', freq='W', adj='qfq', start_date='20180101', end_date='20181011')

# 获取 000001.SZ 的 **后复权** 周线行情
df = ts.pro_bar(ts_code='000001.SZ', freq='W', adj='hfq', start_date='20180101', end_date='20181011')
```

---

### **月线复权**
```python
# 获取 000001.SZ 的 **前复权** 月线行情
df = ts.pro_bar(ts_code='000001.SZ', freq='M', adj='qfq', start_date='20180101', end_date='20181011')

# 获取 000001.SZ 的 **后复权** 月线行情
df = ts.pro_bar(ts_code='000001.SZ', freq='M', adj='hfq', start_date='20180101', end_date='20181011')
```
