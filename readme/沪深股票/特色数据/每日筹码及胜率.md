# 每日筹码及胜率

## 接口名称：`cyq_perf`

## 接口说明
- 获取 **A股每日筹码平均成本和胜率** 数据，包括 **历史最低价、历史最高价、不同分位成本、加权平均成本、胜率** 等信息。
- **数据从 2018 年开始**，每天 **17:00~18:00** 更新当日数据。
- **单次最大提取 5000 条数据**，可通过 **分页和循环请求** 获取更多数据。
- **积分要求**：
  - **120 积分** 可试用（查看数据）。
  - **5000 积分** 每天可请求 **20000 次**。
  - **10000 积分** 每天可请求 **200000 次**。
  - **15000 积分** 以上用户 **不限总量**。

---

## **输入参数**

| 名称        | 类型  | 必选 | 描述 |
|------------|------|------|------------------------------|
| ts_code    | str  | N    | 股票代码（如 `600000.SH` / `000001.SZ`） |
| trade_date | str  | N    | 交易日期（格式：`YYYYMMDD`） |
| start_date | str  | N    | 开始日期（格式：`YYYYMMDD`） |
| end_date   | str  | N    | 结束日期（格式：`YYYYMMDD`） |

---

## **输出参数**

| 名称          | 类型  | 默认显示 | 描述 |
|--------------|------|---------|------------------------------|
| ts_code      | str  | Y       | 股票代码 |
| trade_date   | str  | Y       | 交易日期 |
| his_low      | float | Y      | 历史最低价 |
| his_high     | float | Y      | 历史最高价 |
| cost_5pct    | float | Y      | 5 分位成本 |
| cost_15pct   | float | Y      | 15 分位成本 |
| cost_50pct   | float | Y      | 50 分位成本 |
| cost_85pct   | float | Y      | 85 分位成本 |
| cost_95pct   | float | Y      | 95 分位成本 |
| weight_avg   | float | Y      | 加权平均成本 |
| winner_rate  | float | Y      | 胜率 |

---

## **接口示例**

### **获取某只股票的每日筹码及胜率数据**
```python
import tushare as ts

# 设置 Tushare Token（请在 Tushare 个人中心获取）
ts.set_token('你的token')

pro = ts.pro_api()

# 获取 600000.SH 在 2022-01-01 至 2022-04-29 期间的筹码及胜率数据
df = pro.cyq_perf(ts_code='600000.SH', start_date='20220101', end_date='20220429')
```

---

### **获取某一天的筹码及胜率数据**
```python
df = pro.cyq_perf(trade_date='20220429')
```

---

### **获取某个时间段的筹码及胜率数据**
```python
df = pro.cyq_perf(start_date='20230101', end_date='20231231')
```

---

## **数据样例**

| ts_code  | trade_date | his_low | his_high | cost_5pct | cost_95pct | weight_avg | winner_rate |
|----------|------------|---------|---------|----------|----------|------------|-------------|
| 600000.SH | 20220429 | 0.72 | 12.16 | 8.18 | 11.34 | 9.76 | 3.52 |
| 600000.SH | 20220428 | 0.72 | 12.16 | 8.24 | 11.34 | 9.76 | 3.08 |
| 600000.SH | 20220427 | 0.72 | 12.16 | 8.30 | 11.34 | 9.76 | 1.71 |
| 600000.SH | 20220426 | 0.72 | 12.16 | 8.34 | 11.34 | 9.76 | 2.02 |
| 600000.SH | 20220425 | 0.72 | 12.16 | 8.36 | 11.34 | 9.77 | 1.44 |
| 600000.SH | 20220110 | 0.72 | 12.16 | 8.60 | 11.36 | 9.89 | 7.62 |
| 600000.SH | 20220107 | 0.72 | 12.16 | 8.60 | 11.36 | 9.89 | 7.59 |
| 600000.SH | 20220106 | 0.72 | 12.16 | 8.60 | 11.36 | 9.89 | 3.92 |
| 600000.SH | 20220105 | 0.72 | 12.16 | 8.60 | 11.36 | 9.89 | 5.65 |
| 600000.SH | 20220104 | 0.72 | 12.16 | 8.60 | 11.36 | 9.89 | 3.93 |
